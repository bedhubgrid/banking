{
    "vars": {
        "$struct_type1":         "/^(\\d{4})(),?0{0,5}(\\d{6})-?(\\d)$/",
        "$struct_type2":         "/^(\\d{4})(),?0{0,2}(\\d{9})-?(\\d)$/",
        "$struct_handelsbanken": "/^(\\d{4})(),?0{0,3}(\\d{8})-?(\\d)$/",
        "$checkdigit_type1A":    "\\byrokrat\\banking\\Validator\\CheckdigitType1AValidator",
        "$checkdigit_type1B":    "\\byrokrat\\banking\\Validator\\CheckdigitType1BValidator",
        "$checkdigit_type2":     "\\byrokrat\\banking\\Validator\\CheckdigitType2Validator",
        "$clearing":             "\\byrokrat\\banking\\Validator\\ClearingValidator",
        "$max_length":           "\\byrokrat\\banking\\Validator\\MaxLengthValidator",
        "$nordea":               "\\byrokrat\\banking\\Bank\\Nordea",
        "$swedbank":             "\\byrokrat\\banking\\Bank\\Swedbank"
    },
    "formats": [
        {
            "id" : "NordeaType1A",
            "structure": "$struct_type1",
            "class": "$nordea",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [
                        [1100, 1199],
                        [1400, 2099],
                        [3000, 3299],
                        [3301, 3399],
                        [3410, 3781],
                        [3783, 3999]
                    ]
                },
                {
                    "class": "$checkdigit_type1A",
                    "arg": null
                }
            ]
        },
        {
            "id" : "NordeaType1B",
            "structure": "$struct_type1",
            "class": "$nordea",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [[4000, 4999]]
                },
                {
                    "class": "$checkdigit_type1B",
                    "arg": null
                }
            ]
        },
        {
            "id" : "NordeaPersonal",
            "structure": "/^(\\d{4})(),?0{0,2}(\\d{6}-?\\d{3})-?(\\d)$/",
            "class": "\\byrokrat\\banking\\Bank\\NordeaPersonal",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [
                        [3300, 3300],
                        [3782, 3782]
                    ]
                },
                {
                    "class": "\\byrokrat\\banking\\Validator\\PersonalIdValidator",
                    "arg": null
                }
            ]
        },
        {
            "id" : "SEB",
            "structure": "$struct_type1",
            "class": "\\byrokrat\\banking\\Bank\\SEB",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [
                        [5000, 5999],
                        [9120, 9124],
                        [9130, 9149]
                    ]
                },
                {
                    "class": "$checkdigit_type1A",
                    "arg": null
                }
            ]
        },
        {
            "id" : "SwedbankType1",
            "structure": "$struct_type1",
            "class": "$swedbank",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [[7000, 7999]]
                },
                {
                    "class": "$checkdigit_type1A",
                    "arg": null
                }
            ]
        },
        {
            "id" : "SwedbankType2",
            "structure": "/^(\\d{4})(),?0{0,10}(\\d{1,9})-?(\\d)$/",
            "class": "$swedbank",
            "validators": [
                {
                    "class": "$clearing",
                    "arg": [[8000, 8999]]
                },
                {
                    "class": "$checkdigit_type2",
                    "arg": null
                },
                {
                    "class": "$max_length",
                    "arg": 16
                }
            ],
            "_comment": "In rare occasions some of Swedbank's accounts cannot be validated by a checksum calculation"
        },
        {
            "id" : "PlusGiro",
            "structure": "/^(0{0,4})()0{0,10}(\\d{1,7})-?(\\d)$/",
            "class": "\\byrokrat\\banking\\Bank\\PlusGiro",
            "validators": [
                {
                    "class": "$checkdigit_type2",
                    "arg": null
                },
                {
                    "class": "$max_length",
                    "arg": 16
                }
            ]
        },
        {
            "id" : "Bankgiro",
            "structure": "/^(0{0,4})()0{0,5}(\\d{3,4}-?\\d{3})(\\d)$/",
            "class": "\\byrokrat\\banking\\Bank\\Bankgiro",
            "validators": [
                {
                    "class": "$checkdigit_type2",
                    "arg": null
                },
                {
                    "class": "$max_length",
                    "arg": 16
                }
            ]
        },
        {
            "id" : "Unknown",
            "structure": "/^([1-9]\\d{3})(),?(\\d{6,11})-?(\\d)$/",
            "class": "\\byrokrat\\banking\\Bank\\Unknown",
            "validators": [],
            "_comment": "Special case account where all is valid"
        }
    ]
}
